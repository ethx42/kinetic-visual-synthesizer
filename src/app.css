@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global CSS Variables - Must be outside @layer for proper scope */
:root {
	--noise-pattern: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");

	/* Centralized transparency & blur control - adjust these values to change globally */
	--glass-opacity-top: 0.2; /* Top gradient opacity (0.0 = fully transparent, 1.0 = opaque) */
	--glass-opacity-bottom: 0.3; /* Bottom gradient opacity */
	--glass-blur: 5px; /* Backdrop blur amount (0px = no blur, higher = more blur) */
	--glass-saturate: 150%; /* Backdrop saturation (100% = normal, higher = more saturated) */
}

@layer base {
	body {
		@apply bg-black text-white m-0 p-0 overflow-hidden w-screen h-screen antialiased selection:bg-signal-cyan/30;
		font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
	}
}

@layer utilities {
	.glass-obsidian {
		/* The Material - Transparency controlled by CSS variables */
		background: linear-gradient(
			180deg,
			rgba(30, 30, 35, var(--glass-opacity-top, 0.35)) 0%,
			rgba(10, 10, 12, var(--glass-opacity-bottom, 0.45)) 100%
		) !important;
		backdrop-filter: blur(var(--glass-blur, 40px)) saturate(var(--glass-saturate, 180%));
		-webkit-backdrop-filter: blur(var(--glass-blur, 40px)) saturate(var(--glass-saturate, 180%));

		/* The Rim Light (Meniscus) */
		box-shadow:
			inset 0 1px 0 0 rgba(255, 255, 255, 0.15),
			inset 0 -1px 0 0 rgba(0, 0, 0, 0.5),
			0 10px 40px -10px rgba(0, 0, 0, 0.8);

		/* Texture */
		position: relative;
		overflow: hidden;
	}

	.glass-obsidian::before {
		content: '';
		position: absolute;
		inset: 0;
		background-image: var(--noise-pattern);
		opacity: 0.03;
		pointer-events: none;
		z-index: 0;
	}

	.text-obsidian-primary {
		@apply text-white/90 font-medium;
	}

	.text-obsidian-secondary {
		@apply text-white/50 font-normal;
	}

	.tabular-nums {
		font-feature-settings: 'tnum';
		font-variant-numeric: tabular-nums;
	}

	/* Mobile Landscape: Horizontal scroll */
	@media (max-width: 768px) and (orientation: landscape) {
		.landscape\:overflow-x-auto {
			overflow-x: auto;
		}
		.landscape\:overflow-y-hidden {
			overflow-y: hidden;
		}
		.landscape\:flex-row {
			flex-direction: row;
		}
		.landscape\:h-full {
			height: 100%;
		}
		.landscape\:w-80 {
			width: 20rem; /* 320px */
		}
	}
}
